<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>CSES Solution</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../StyleCSS/solution.css">
    <script src="../JSCODE/Solution.js"></script>
    <script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
        </script>
    <script src="../JSCODE/HeadStyle.js"></script>
</head>

<body>
    <header style="background: #f9e79f;">
        <h1 style="font-family: 'Times New Roman', Times, serif;">CSES Solution</h1>
        <nav>
            <a href="../index.html">Trang ch·ªß</a>
            <a href="../mainn/Blog.html">Blog</a>
        </nav>
    </header>
    <div class="container">

        <div class="sidebar">
            <h3 style="font-family: 'Times New Roman', Times, serif; font-size: 18px;">M·ª•c l·ª•c</h3>
            <ul>
                <li><a href="#section1">B√†i to√°n 1: Minimizing Coins</a></li>
                <li><a href="#section2">B√†i to√°n 2: Subordinates</a></li>
                <li><a href="#section3">B√†i to√°n 3: Static Range Sum Queries</a></li>
            </ul>
        </div>
        <!-- Main content -->
        <div class="main">
            <h2 style="font-family: 'Times New Roman', Times, serif;">Gi·∫£i ph√°p c·ªßa c√°c b√†i t·∫≠p tr√™n CSES</h2>
            <p><strong>Fact : </strong>C√°c b√†i t·∫≠p tr√™n CSES, gi√∫p b·∫°n r√®n luy·ªán c√°c thu·∫≠t to√°n theo d·∫°ng</p>

            <!-- Section 1 -->
            <div class="section fontext" id="section1">
                <div class="section-header" onclick="toggleSection(this)"
                    style="font-family: 'Times New Roman', Times, serif; font-size: 18px;">B√†i to√°n 1: Minimizing Coins
                </div>
                <div class="section-content">
                    <div class="blog-tags">
                        <p>Tag : </p>
                        <span class="tag">Dynamic programming</span>
                    </div>
                    <!-- link -->
                    <strong>Link b√†i to√°n: </strong><a
                        href="https://cses.fi/problemset/task/1634">https://cses.fi/problemset/task/1634</a>
                    <!--de bai-->
                    <div class="solution-card" onclick="toggleSolution(this)">
                        <div class="solution-header">
                            T√≥m t·∫Øt ƒë·ªÅ b√†i
                            <span class="toggle-icon">‚ñº</span>
                        </div>
                        <div class="solution-content">
                            <p>B·∫°n c√≥ <strong>n</strong> lo·∫°i ti·ªÅn xu, m·ªói lo·∫°i c√≥ m·ªôt gi√° tr·ªã nguy√™n d∆∞∆°ng kh√°c nhau.
                                Nhi·ªám v·ª• c·ªßa b·∫°n l√† t√¨m c√°ch t·∫°o ra t·ªïng ti·ªÅn <strong>x</strong> b·∫±ng c√°ch s·ª≠ d·ª•ng s·ªë
                                l∆∞·ª£ng <strong>√≠t nh·∫•t</strong> c√°c ƒë·ªìng xu c√≥ s·∫µn.</p>

                            <p><strong>R√†ng bu·ªôc:</strong></p>
                            <ul>
                                <li>\(1 \leq n \leq 100\)</li>
                                <li>\(1 \leq x \leq 10^6\)</li>
                                <li>\(1 \leq c_i \leq 10^6\)</li>
                            </ul>

                            <p><strong>Input:</strong></p>
                            <ul>
                                <li>D√≤ng ƒë·∫ßu ti√™n ch·ª©a hai s·ªë nguy√™n <strong>n</strong> (s·ªë l∆∞·ª£ng lo·∫°i ti·ªÅn) v√†
                                    <strong>x</strong> (t·ªïng ti·ªÅn c·∫ßn t·∫°o).</li>
                                <li>D√≤ng th·ª© hai ch·ª©a <strong>n</strong> s·ªë nguy√™n <strong>c‚ÇÅ, c‚ÇÇ, ..., c‚Çô</strong> (gi√°
                                    tr·ªã c·ªßa t·ª´ng lo·∫°i ti·ªÅn xu).</li>
                            </ul>

                            <p><strong>Output:</strong></p>
                            <ul>
                                <li>M·ªôt s·ªë nguy√™n duy nh·∫•t: s·ªë l∆∞·ª£ng √≠t nh·∫•t c√°c ƒë·ªìng xu c·∫ßn d√πng ƒë·ªÉ t·∫°o t·ªïng
                                    <strong>x</strong>.</li>
                                <li>N·∫øu kh√¥ng th·ªÉ t·∫°o ra t·ªïng <strong>x</strong>, in <strong>-1</strong>.</li>
                            </ul>

                            <p><strong>V√≠ d·ª•:</strong></p>
                            <p><strong>Input:</strong></p>
                            <pre>
3 11
1 5 7
        </pre>
                            <p><strong>Output:</strong></p>
                            <pre>
3
        </pre>

                            <p><strong>Gi·∫£i th√≠ch:</strong></p>
                            <ul>
                                <li>Ta c√≥ th·ªÉ t·∫°o ra 11 b·∫±ng c√°ch d√πng <strong>5 + 5 + 1</strong>, t·ªïng c·ªông <strong>3
                                        ƒë·ªìng xu</strong>, ƒë√¢y l√† c√°ch t·ªëi ∆∞u nh·∫•t.</li>
                            </ul>
                        </div>
                    </div>

                    <!-- loi giai -->
                    <div class="solution-card" onclick="toggleSolution(this)">
                        <div class="solution-header">
                            L·ªùi gi·∫£i chi ti·∫øt
                            <span class="toggle-icon">‚ñº</span>
                        </div>
                        <div class="solution-content">
                            <p>üîπ B√†i to√°n n√†y c√≥ th·ªÉ ƒë∆∞·ª£c gi·∫£i quy·∫øt b·∫±ng ph∆∞∆°ng ph√°p <strong>quy ho·∫°ch ƒë·ªông (Dynamic
                                    Programming - DP)</strong>.</p>

                            <p style="margin-top: 5px;"><strong>√ù t∆∞·ªüng:</strong></p>
                            <ul style="list-style: none; padding-left: 0;">
                                <li>üü¢ <strong>B∆∞·ªõc 1:</strong> Kh·ªüi t·∫°o m·∫£ng <code>dp</code> v·ªõi <code>dp[i]</code> l√†
                                    s·ªë ƒë·ªìng xu t·ªëi thi·ªÉu ƒë·ªÉ t·∫°o ra t·ªïng <code>i</code>. Ban ƒë·∫ßu, g√°n t·∫•t c·∫£ c√°c gi√° tr·ªã
                                    l√† <code>1e9</code> (v√¥ c·ª±c) tr·ª´ <code>dp[0] = 0</code>.</li>
                                <li>üü° <strong>B∆∞·ªõc 2:</strong> Duy·ªát qua t·ª´ng lo·∫°i ƒë·ªìng xu v√† c·∫≠p nh·∫≠t
                                    <code>dp[j]</code> v·ªõi <code>dp[j] = min(dp[j], dp[j - coin] + 1)</code> n·∫øu c√≥ th·ªÉ
                                    t·∫°o th√†nh t·ªïng <code>j</code>.</li>
                                <li>üî¥ <strong>B∆∞·ªõc 3:</strong> N·∫øu <code>dp[x]</code> v·∫´n l√† v√¥ c·ª±c, in
                                    <code>-1</code>. Ng∆∞·ª£c l·∫°i, in <code>dp[x]</code> l√† s·ªë ƒë·ªìng xu √≠t nh·∫•t c·∫ßn d√πng.
                                </li>
                            </ul>
                        </div>
                    </div>


                    <!--solution-->

                    <div class="solution-card" onclick="toggleSolution(this)">
                        <div class="solution-header"
                            style="font-family: 'Times New Roman', Times, serif; font-size: 18px;">
                            Solution
                            <span class="toggle-icon">‚ñº</span>
                        </div>
                        <div class="solution-content">
                            <button class="copy-btn" onclick="copyCode(this)">üìã Copy</button>
                            <pre><code class="language-cpp stylecode">
#include &lt;bits/stdc++.h&gt;
using namespace std;
 
 
typedef long long ll;
typedef double db;
#define fi first
#define se second
#define pb push_back
#define ed cout << "\n"
#define no cout << "NO\n"
#define ye cout << "YES\n"
#define FOR(i, l, r) for (int i = l; i <= r; i++)
#define FOD(i, r, l) for (int i = r; i >= l; i--)
#define FOB(i, l, r) for (int i = l; i < r; i++)
#define mem(a, b) memset(a, b, sizeof(a))
#define all(a) a.begin(), a.end()
#define sz(A) (int)A.size()
#define faster() ios_base::sync_with_stdio(false); cin.tie(NULL); cout.tie(NULL)
#define debug(...) fprintf(stderr, __VA_ARGS__), fflush(stderr)
const int N = 2e6 + 15;
const int MOD = 1e9 + 7;
const int INF = 1e5 + 1;
const int mxn = 1000 + 15;
 
int nxt() { int x; cin >> x; return x; }
void add(int &a, int b) {
//	a = (a + b) % MOD;
    a = a + b;
    if (a >= MOD) a = a - MOD;
    if (a < 0) a = a + MOD;
}
void mul(int &a, int b) {
    ll res = ((ll)a * b) % MOD;
    a = res;
}
 
void Fami(int n, vector&lt;int&gt& a) {
	
}
 
void solve() {
	int n = nxt(), sz = nxt();
	vector&lt;int&gtdp(sz + 1, 1e9);
	vector&lt;int&gta(n);
	for(auto &x : a) x = nxt();
	dp[0] = 0; 
	for(int i = 0; i < n; i++) {
		for(int j = a[i]; j <= sz; j++) {
			dp[j] = min(dp[j], dp[j - a[i]] + 1);
		}
	}
	cout << ((dp[sz] == 1e9) ? -1 : dp[sz]) << endl;
}
 
int main() {
    faster();
    //freopen("input.INP", "r", stdin);
   // freopen("output.OUT", "w", stdout);
    int t; t = 1; 
    //cin >> t;
    while(t--){
    	clock_t z = clock();
    	solve();
    	debug("Total Time: %.3f\n", (double)(clock() - z) / CLOCKS_PER_SEC);
    	if(t != 0) ed;
	}
    return 0;
}
</code></pre>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 2 -->
            <div class="section fontext" id="section1">
                <div class="section-header" onclick="toggleSection(this)"
                    style="font-family: 'Times New Roman', Times, serif; font-size: 18px;">B√†i to√°n 2: Subordinates
                </div>
                <div class="section-content">
                    <div class="blog-tags">
                        <p>Tag : </p>
                        <span class="tag">Graph</span>
                    </div>
                    <!-- link -->
                    <strong>Link b√†i to√°n: </strong><a
                        href="https://cses.fi/problemset/task/1674">https://cses.fi/problemset/task/1674</a>
                    <!-- de bai -->
                    <div class="solution-card" onclick="toggleSolution(this)">
                        <div class="solution-header">
                            T√≥m t·∫Øt ƒë·ªÅ b√†i
                            <span class="toggle-icon">‚ñº</span>
                        </div>
                        <div class="solution-content">
                            <p>Cho m·ªôt c√¥ng ty v·ªõi n nh√¢n vi√™n, m·ªói nh√¢n vi√™n (tr·ª´ gi√°m ƒë·ªëc) c√≥ m·ªôt c·∫•p tr√™n tr·ª±c ti·∫øp.
                            </p>
                            <ul>
                                <li>Nhi·ªám v·ª•: T√≠nh s·ªë l∆∞·ª£ng c·∫•p d∆∞·ªõi c·ªßa t·ª´ng nh√¢n vi√™n.</li>
                                <li>Nh√¢n vi√™n s·ªë 1 l√† gi√°m ƒë·ªëc chung c·ªßa c√¥ng ty.</li>
                            </ul>
                            <p><strong>Input:</strong></p>
                            <ul>
                                <li>D√≤ng ƒë·∫ßu ch·ª©a s·ªë nguy√™n n - s·ªë nh√¢n vi√™n.</li>
                                <li>D√≤ng th·ª© hai ch·ª©a n-1 s·ªë nguy√™n, trong ƒë√≥ s·ªë th·ª© i l√† c·∫•p tr√™n tr·ª±c ti·∫øp c·ªßa nh√¢n
                                    vi√™n i+1.</li>
                            </ul>
                            <p><strong>Output:</strong></p>
                            <ul>
                                <li>In ra n s·ªë nguy√™n, s·ªë th·ª© i l√† s·ªë c·∫•p d∆∞·ªõi c·ªßa nh√¢n vi√™n i.</li>
                            </ul>
                            <p><strong>V√≠ d·ª•:</strong></p>
                            <p><strong>Input:</strong></p>
                            <pre>5
1 1 2 3</pre>
                            <p><strong>Output:</strong></p>
                            <pre>4 1 1 0 0</pre>
                            <p><strong>Gi·∫£i th√≠ch:</strong></p>
                            <ul>
                                <li>Nh√¢n vi√™n 1 c√≥ 4 c·∫•p d∆∞·ªõi (g·ªìm t·∫•t c·∫£ nh·ªØng nh√¢n vi√™n c√≤n l·∫°i).</li>
                                <li>Nh√¢n vi√™n 2 c√≥ 1 c·∫•p d∆∞·ªõi (nh√¢n vi√™n 3).</li>
                                <li>Nh√¢n vi√™n 3 c√≥ 1 c·∫•p d∆∞·ªõi (nh√¢n vi√™n 4).</li>
                                <li>Nh√¢n vi√™n 4 v√† 5 kh√¥ng c√≥ c·∫•p d∆∞·ªõi.</li>
                            </ul>
                        </div>
                    </div>


                    <!-- loi giai -->
                    <div class="solution-card" onclick="toggleSolution(this)">
                        <div class="solution-header">
                            L·ªùi gi·∫£i chi ti·∫øt
                            <span class="toggle-icon">‚ñº</span>
                        </div>
                        <div class="solution-content">
                            <p>üîπ B√†i n√†y ta s·ª≠ d·ª•ng DFS ƒë·ªÉ t√≠nh s·ªë l∆∞·ª£ng c·∫•p d∆∞·ªõi c·ªßa t·ª´ng nh√¢n vi√™n.</p>
                            <p><strong>Quy tr√¨nh th·ª±c hi·ªán:</strong></p>
                            <ul style="list-style: none; padding-left: 0;">
                                <li>üü¢ <strong>B∆∞·ªõc 1:</strong> T·∫°o danh s√°ch k·ªÅ l∆∞u quan h·ªá s·∫øp - nh√¢n vi√™n.</li>
                                <li>üü° <strong>B∆∞·ªõc 2:</strong> S·ª≠ d·ª•ng DFS ƒë·ªÉ duy·ªát t·ª´ gi√°m ƒë·ªëc (nh√¢n vi√™n 1) xu·ªëng.
                                </li>
                                <li>üîµ <strong>B∆∞·ªõc 3:</strong> V·ªõi m·ªói nh√¢n vi√™n, t√≠nh t·ªïng s·ªë l∆∞·ª£ng nh√¢n vi√™n c·∫•p d∆∞·ªõi
                                    c·ªßa h·ªç.</li>
                            </ul>
                            <p><strong>ƒê·ªô ph·ª©c t·∫°p:</strong> O(n), v√¨ m·ªói nh√¢n vi√™n ch·ªâ ƒë∆∞·ª£c duy·ªát m·ªôt l·∫ßn.</p>
                        </div>
                    </div>


                    <!--solution-->

                    <div class="solution-card" onclick="toggleSolution(this)">
                        <div class="solution-header"
                            style="font-family: 'Times New Roman', Times, serif; font-size: 18px;">
                            Solution
                            <span class="toggle-icon">‚ñº</span>
                        </div>
                        <div class="solution-content">
                            <button class="copy-btn" onclick="copyCode(this)">üìã Copy</button>
                            <pre><code class="language-cpp stylecode">
#include &lt;bits/stdc++.h&gt;
using namespace std;

 
#define faster() ios_base::sync_with_stdio(false); cin.tie(NULL); cout.tie(NULL)
#define debug(...) fprintf(stderr, __VA_ARGS__), fflush(stderr)
#define ed cout << "\n"
const int N = 2e5 + 15;
const int MOD = 1e9 + 7;
const int INF = 1e9 + 1;
const int mxn = 2000 + 15;
using ll = long long;
 
int dp[N];
vector&lt;int&gt;adj[N];
bool vis[N];
int n, m;
 
void dfs(int u) {
	dp[u] = dp[u] + 1;
	for(auto v : adj[u]) {
		dfs(v);
		dp[u] = dp[u] + dp[v];
	}
}
 
void solve() {
	cin >> n;
	for(int i = 2; i <= n; i++) {
		int x; cin >> x;
		adj[x].push_back(i);
	}
	dfs(1);
	for(int i = 1; i <= n; i++) cout << dp[i] - 1 << ' ';
}
 
 
int main() {
    faster();
    //freopen("input.INP", "r", stdin);
   // freopen("output.OUT", "w", stdout);
    int t; t = 1; 
    //cin >> t;
    while(t--){
    	clock_t z = clock();
    	solve();
    	debug("Total Time: %.3f\n", (double)(clock() - z) / CLOCKS_PER_SEC);
    	if(t != 0) ed;
	}
    return 0;
}


</code></pre>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Section 3 -->
            <div class="section fontext" id="section1">
                <div class="section-header" onclick="toggleSection(this)"
                    style="font-family: 'Times New Roman', Times, serif; font-size: 18px;">B√†i to√°n 3: Static Range Sum
                    Queries
                </div>
                <div class="section-content">
                    <div class="blog-tags">
                        <p>Tag : </p>
                        <span class="tag">Segment tree </span>
                        <span class="tag">BIT tree </span>
                    </div>
                    <!-- link -->
                    <strong>Link b√†i to√°n: </strong><a
                        href="https://cses.fi/problemset/task/1674/">https://cses.fi/problemset/task/1674/</a>
                    <!--de bai-->
                    <!--de bai-->
                    <div class="solution-card" onclick="toggleSolution(this)">
                        <div class="solution-header">
                            T√≥m t·∫Øt ƒë·ªÅ b√†i
                            <span class="toggle-icon">‚ñº</span>
                        </div>
                        <div class="solution-content">
                            <p>Cho m·ªôt m·∫£ng g·ªìm <strong>n</strong> s·ªë nguy√™n v√† <strong>q</strong> truy v·∫•n.</p>
                            <ul>
                                <li>M·ªói truy v·∫•n y√™u c·∫ßu t√≠nh t·ªïng c√°c ph·∫ßn t·ª≠ trong kho·∫£ng <strong>[a, b]</strong>.
                                </li>
                            </ul>
                            <p><strong>Input :</strong></p>
                            <ul>
                                <li>D√≤ng ƒë·∫ßu g·ªìm hai s·ªë nguy√™n <strong>n</strong> v√† <strong>q</strong> (s·ªë ph·∫ßn t·ª≠ v√†
                                    s·ªë truy v·∫•n).</li>
                                <li>D√≤ng th·ª© hai ch·ª©a <strong>n</strong> s·ªë nguy√™n l√† c√°c ph·∫ßn t·ª≠ c·ªßa m·∫£ng.</li>
                                <li>M·ªói trong <strong>q</strong> d√≤ng ti·∫øp theo ch·ª©a hai s·ªë <strong>a, b</strong> (ch·ªâ
                                    s·ªë b·∫Øt ƒë·∫ßu v√† k·∫øt th√∫c c·ªßa truy v·∫•n).</li>
                            </ul>
                            <p><strong>Output :</strong> V·ªõi m·ªói truy v·∫•n, in ra t·ªïng c√°c ph·∫ßn t·ª≠ trong kho·∫£ng
                                <strong>[a, b]</strong>.</p>
                            <p><strong>V√≠ d·ª•:</strong></p>
                            <p><strong>Input:</strong></p>
                            <pre>
8 4
3 2 4 5 1 1 5 3
2 4
5 6
1 8
3 3
        </pre>
                            <p><strong>Output:</strong></p>
                            <pre>
11
2
24
4
        </pre>
                        </div>
                    </div>


                    <div class="solution-card" onclick="toggleSolution(this)">
                        <!-- loi giai-->
                        <div class="solution-header">
                            L·ªùi gi·∫£i chi ti·∫øt
                            <span class="toggle-icon">‚ñº</span>
                        </div>
                        <div class="solution-content">
                            <p>B√†i n√†y ta s·ª≠ d·ª•ng c·∫•u tr√∫c d·ªØ li·ªáu <strong>Segment Tree</strong> ƒë·ªÉ x·ª≠ l√Ω truy v·∫•n nhanh
                                ch√≥ng.</p>
                            <ul style="list-style: none; padding-left: 0;">
                                <li>üîπ <strong>Segment Tree</strong> cho ph√©p t√≠nh t·ªïng ƒëo·∫°n trong <code>O(log n)</code>
                                    thay v√¨ <code>O(n)</code> khi duy·ªát tuy·∫øn t√≠nh.</li>
                                <li>üîπ Ta x√¢y d·ª±ng c√¢y trong <code>O(n)</code> v√† x·ª≠ l√Ω m·ªói truy v·∫•n trong
                                    <code>O(log n)</code>.</li>
                            </ul>

                            <p><strong>Quy tr√¨nh th·ª±c hi·ªán:</strong></p>
                            <ul style="list-style: none; padding-left: 0;">
                                <li>üü¢ <strong>B∆∞·ªõc 1:</strong> X√¢y d·ª±ng c√¢y b·∫±ng ph∆∞∆°ng ph√°p chia ƒë√¥i m·∫£ng (Build
                                    Segment Tree).</li>
                                <li>üü° <strong>B∆∞·ªõc 2:</strong> Khi c√≥ truy v·∫•n t√¨m t·ªïng ƒëo·∫°n <code>[l, r]</code>, ta
                                    duy·ªát nhanh tr√™n c√¢y ƒë·ªÉ l·∫•y k·∫øt qu·∫£.</li>
                                <li>üü† <strong>B∆∞·ªõc 3:</strong> N·∫øu c·∫ßn c·∫≠p nh·∫≠t gi√° tr·ªã t·∫°i v·ªã tr√≠ <code>pos</code>, ta
                                    c·∫≠p nh·∫≠t tr√™n c√¢y ƒë·ªÉ kh√¥ng c·∫ßn x√¢y l·∫°i to√†n b·ªô.</li>
                            </ul>

                            <p><strong>Chi ti·∫øt thu·∫≠t to√°n:</strong></p>
                            <ul>
                                <li>‚úîÔ∏è <strong>X√¢y d·ª±ng c√¢y:</strong> M·ªói n√∫t l∆∞u t·ªïng c·ªßa m·ªôt ƒëo·∫°n con.</li>
                                <li>‚úîÔ∏è <strong>Truy v·∫•n t·ªïng ƒëo·∫°n:</strong> N·∫øu ƒëo·∫°n con n·∫±m ho√†n to√†n trong
                                    <code>[l, r]</code>, tr·∫£ v·ªÅ ngay.</li>
                                <li>‚úîÔ∏è <strong>C·∫≠p nh·∫≠t ph·∫ßn t·ª≠:</strong> C·∫≠p nh·∫≠t gi√° tr·ªã t·∫°i v·ªã tr√≠ <code>pos</code>
                                    v√† c·∫≠p nh·∫≠t l·∫°i c√¢y.</li>
                            </ul>
                        </div>
                    </div>


                    <!--solution-->

                    <div class="solution-card" onclick="toggleSolution(this)">
                        <div class="solution-header"
                            style="font-family: 'Times New Roman', Times, serif; font-size: 18px;">
                            Solution
                            <span class="toggle-icon">‚ñº</span>
                        </div>
                        <div class="solution-content">
                            <button class="copy-btn" onclick="copyCode(this)">üìã Copy</button>
                            <pre><code class="language-cpp stylecode">
#include &lt;bits/stdc++.h&gt;
using namespace std;
 
typedef long long ll;
typedef double db;
typedef unsigned long long ull;
#define fi first
#define se second
#define pb push_back
#define ed cout << "\n"
#define no cout << "NO\n"
#define ye cout << "YES\n"
#define FOR(i,l,r) for (int i=l;i<=r;i++)
#define FOD(i,r,l) for (int i=r;i>=l;i--)
#define mem(a,b) memset(a, b, sizeof(a))
#define all(a) a.begin(), a.end()
#define sz(A) (int) A.size()
#define faster() ios_base::sync_with_stdio(false); cin.tie(NULL); cout.tie(NULL);
const int N = 2e5 + 15;
 
// #ifdef ONLINE_JUDGE
//     ios::sync_with_stdio(false);
//     cin.tie(nullptr);
// #endif
 
ll t[4 * N], a[N];
int n, q;
void build(int v, int tl, int tr) {
    if(tl == tr) {
        t[v] = a[tl];
    } else {
        int mid = (tl + tr) >> 1;
        build(v << 1, tl, mid);
        build(v << 1 | 1, mid + 1, tr);
        t[v] = t[v << 1] + t[v << 1 | 1];
    }
}
 
void update(int v, int tl, int tr, int pos, int val) {
    if(tl == tr) {
        t[v] = val;
    } else {
        int mid = (tl + tr) >> 1;
        if(pos <= mid) {
            update(v << 1, tl, mid, pos, val);
        } else {
            update(v << 1 | 1, mid + 1, tr, pos, val);
        }
        t[v] = t[v << 1] + t[v << 1 | 1];
    }
}
 
ll query(int v, int tl, int tr, int l, int r) {
    if(l > tr || r < tl) return 0;
    if(l <= tl && tr <= r) {
        return t[v];
    } else {
        int mid = (tl + tr) >> 1;
        ll left = query(v << 1, tl, mid, l, r);
        ll right = query(v << 1 | 1, mid + 1, tr, l, r);
        return left + right;
    }
}
 
void solve() {
    cin >> n >> q;
	for(int i = 0; i < n; i++) cin >> a[i];
	build(1, 0, n - 1);
    while(q--){
		int x, y; cin >> x >> y;
		x--; y--;
		cout << query(1, 0, n - 1, x, y) << endl;
	}
}
 
int main(){
    faster()
    solve();
    return 0;
}
</code></pre>
                        </div>
                    </div>
                </div>
            </div>
</body>

</html>